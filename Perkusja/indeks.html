<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Perkusja</title>
    <link type="text/css" rel=stylesheet href="style.css">
</head>

<body>

    <div class="keys">
        <div data-key='65' class="key">
            <kbd>A</kbd>
        </div>

        <div data-key='83' class="key">
            <kbd>S</kbd>
        </div>

        <div data-key='68' class="key">
            <kbd>D</kbd>
        </div>

    </div>
    
    <audio data-key="65" src="sound/1EX00091.mp3"></audio>
    <audio data-key='83' src="sound/ARMSML1.WAV"></audio>
    <audio data-key='68' src="sound/bullet_hit2.wav"></audio>


    <script>
    
window.addEventListener('keydown', function(e){
    const audio = document.querySelector('audio[data-key="'+e.keyCode+'"]');
    const key = document.querySelector('.key[data-key="'+e.keyCode+'"]');
 if(!audio) return;
    audio.curretTime =0;
    audio.play(); 
    key.classList.add('playing');
   
});
        function removeTransition(e){
            if(e.propertyName !== 'transform') return;
            this.classList.remove('playing');
        }
    
        const keys = document.querySelectorAll('.key');
        keys.forEach(key=>key.addEventListener('transitionend', removeTransition));  
        
    </script>
</body>

</html>
